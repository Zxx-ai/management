<template>
 
 <el-container class="scens">
   <!-- å¤´éƒ¨åŒºåŸŸ -->
  <el-header>
     <img src="../../assets/tb.png" alt=""> 
    <span>è“æ¼«åå°ç®¡ç†ç³»ç»Ÿ</span>
    <el-button class="but-t" type="info" @click="logouts">é€€å‡º</el-button>
    </el-header>
  <!-- é¡µé¢ä¸»ä½“åŒº -->
  <el-container>
    <!-- ä¾§è¾¹æ  -->
    <el-aside width="200px">
<!-- ä¾§è¾¹æ èœå• -->
 <el-menu
      default-active="2"
      background-color="#1C8ECF"
      text-color="#fff"
      active-text-color="#ffd04b">



   <!--el-submenu  ä¸€çº§èœå• -->
      <el-submenu index="1">

        <template slot="title">
          <i class="el-icon-s-custom"></i>
          <span>ç”¨æˆ·ç®¡ç†</span>
        </template>

      </el-submenu>

      <!--el-submenu  ä¸€çº§èœå• -->
      <el-submenu index="2">

        <template slot="title">
          <i class="el-icon-video-camera"></i>
          <span>åŠ¨æ¼«ç®¡ç†</span>
        </template>

        <!-- äºŒçº§èœå• -->
         <el-menu-item index="1-4-1">

        <template slot="title">
          <i class="el-icon-video-camera-solid"></i>
          <router-link class="scenes-data" to="/movie"><span>æ•°æ®ç®¡ç†</span></router-link>
        </template>

         </el-menu-item>

  <!-- ä¸‰çº§èœå• -->
         <el-menu-item index="1-4-2">

        <template slot="title">
          <i class="el-icon-circle-plus"></i>
          <router-link class="scenes-data" to="/insetm"><span>æ–°å¢æ•°æ®</span></router-link>
        </template>

         </el-menu-item>

      </el-submenu>
  


    </el-menu>

    </el-aside>
    <!-- å³ä¾§å†…å®¹ä¸»ä½“ -->
    <el-main>
 <el-button type="primary">ğŸ˜€æ–°å¢åŠ¨æ¼«</el-button>


<div class="form-for">

  <el-form
        label-width="0px"
        class="register box"
        :model="ruleFome"
        ref="ruleFomeinset"
        :rules="rules"
      >
        <!-- åŠ¨æ¼«å›¾URL -->
        <el-form-item     prop="aurl">
          <el-input
            type="text"          
            prefix-icon="el-icon-picture-outline-round"
            placeholder="è¯·è¾“å…¥åŠ¨æ¼«å›¾ç‰‡url"
            v-model="ruleFome.aurl"
          ></el-input>
        </el-form-item>

        <!-- åŠ¨æ¼«å -->
        <el-form-item prop="aname">
          <el-input
            type="text"
            prefix-icon="el-icon-user"
            placeholder="è¯·è¾“å…¥åŠ¨æ¼«å"
            v-model="ruleFome.aname"
          ></el-input>
        </el-form-item>




     <!-- ç±»å‹ -->

   <el-form-item prop="alx">
          <el-select
           
            prefix-icon="el-icon-user"
            placeholder="è¯·è¾“å…¥åŠ¨æ¼«ç±»å‹"
            v-model="ruleFome.alx"
          >
       <el-option label="çƒ­è¡€" value="çƒ­è¡€"></el-option>
      <el-option label="å‰§æƒ…" value="å‰§æƒ…"></el-option>
      <el-option label="æƒ…æ„Ÿ" value="æƒ…æ„Ÿ"></el-option>
      <el-option label="æ‚¬ç–‘" value="æ‚¬ç–‘"></el-option>
      <el-option label="å¥‡å¹»" value="å¥‡å¹»"></el-option>
      <el-option label="åŠ¨ä½œ" value="åŠ¨ä½œ"></el-option>
          </el-select>
        </el-form-item>



        
<!-- ä¸»è§’å -->
   <el-form-item prop="anoe">
          <el-input
            type="text"
            prefix-icon="el-icon-user-solid"
            placeholder="è¯·è¾“å…¥åŠ¨æ¼«ä¸»è§’å"
            v-model="ruleFome.anoe"
          ></el-input>
        </el-form-item>


<!-- ç®€ä»‹ -->


<el-form-item prop="atexts">
          <el-input
            type="textarea"
            prefix-icon="el-icon-alarm-clock"
            placeholder="è¯·è¾“å…¥ç®€ä»‹"
            v-model="ruleFome.atexts"
          ></el-input>
        </el-form-item>
  




<!-- æ—¶é—´-->
  <el-form-item prop="adata">


 <el-date-picker
     v-model="ruleFome.adata"
      type="date"
      placeholder="é€‰æ‹©æ—¥æœŸ">
    </el-date-picker>
  </el-form-item>
  
        



<!-- è¯„åˆ†  number-->
<el-form-item prop="apf">
          <el-input
            type="number"
            prefix-icon="el-icon-star-off"
            placeholder="è¯·è¯„åˆ†"
            v-model="ruleFome.apf"
            max="5"
            min="0"
          ></el-input>
        </el-form-item>
  


        <!-- æŒ‰é’®  -->
       <el-form-item>
         
  
          <el-button class="ass"   @click="inset()" round>æ–°å¢</el-button>
          <el-button type="primary" @click="inreset()" round>é‡ç½®</el-button>
          
        </el-form-item> 
      </el-form>

</div>


    </el-main>
  </el-container>



</el-container>



</template>
<script>
export default {
  data() {
    return {
      ruleFome: {
       aurl: '',
       aname: '',
       alx: '',
       anoe: '',
       atexts: '',
       adata: '',
       apf: ''
      },
       rules: {
               aurl: [
          { required: true, message: 'è¯·è¾“å…¥urlåœ°å€', trigger: 'blur' },
          { min: 6, max: 1000, message: 'é•¿åº¦åœ¨ 6 ä¸ªå­—ç¬¦ä»¥ä¸Š', trigger: 'blur' }
        ],
        aname: [
          { required: true, message: 'è¯·è¾“å…¥åŠ¨æ¼«å', trigger: 'blur' },
          { min: 1, max: 1000, message: 'ä¸èƒ½ä¸ºç©º', trigger: 'blur' }
        ],
        alx: [
          { required: true, message: 'è¯·è¾“å…¥ç±»å‹', trigger: 'blur' },
          { min: 1, max: 1000, message: 'ä¸èƒ½ä¸ºç©º', trigger: 'blur' }
        ],
        anoe: [
          { required: true, message: 'è¯·è¾“å…¥åŠ¨æ¼«ä¸»è§’', trigger: 'blur' },
          { min: 1, max: 1000, message: 'é•¿åº¦ä¸èƒ½ä¸ºç©º', trigger: 'blur' }
        ],
        atexts: [
          { required: true, message: 'è¯·è¾“å…¥ç®€ä»‹', trigger: 'blur' },
          { min: 1, max: 1000, message: 'é•¿åº¦ä¸èƒ½ä¸ºç©º', trigger: 'blur' }
        ],
       apf: [
          { required: true, message: 'è¯·è¾“å…¥è¯„åˆ†', trigger: 'blur' },
          { min: 1, max: 1000, message: 'é•¿åº¦ä¸èƒ½ä¸ºç©º', trigger: 'blur' }
        ]
      }

    }
  },

// inset(){

// this.$refs.reFrom.validate(valid => {

//   console.log(valid)
// })

// },

  

methods:{

inset(){ this.$refs.ruleFomeinset.validate(valid => {
        window.console.log(valid)

        if (valid == false) {
          this.$message.error('æ–°å¢å¤±è´¥ï¼ï¼ï¼')
        }

        if (valid == true) {
          var aurl = this.ruleFome.aurl
          var aname = this.ruleFome.aname             
          var alx= this.ruleFome.alx
          var anoe= this.ruleFome.anoe
          var atexts= this.ruleFome.atexts
         var adata= this.ruleFome.adata
         var apf= this.ruleFome.apf

           this.$axios
            .post('http://localhost:4000/api/animeadd/Aadd', {
              aurl: aurl,
              aname: aname,
              alx: alx,
              anoe: anoe,
              atexts: atexts,
              adata: adata,
              apf: apf
            })
            .then(res => {
              // window.console.log('æ–°å¢æˆåŠŸ');
              //æ–°å¢æˆåŠŸä¹‹å
              if (res.status == '200') {
                window.console.log(res)
                this.$message.success('æ­å–œæ–°å¢æˆåŠŸ~')
              }else{
                 this.$message.error('æ–°å¢å¤±è´¥ï¼Œè¯·é‡æ–°æ–°å¢ï¼')
              }
            })
            .catch(err => {
              window.console.log(err)
            })

       

         
        }
      })
    },

  
 logouts() {
      window.sessionStorage.clear()
      this.$router.push('/')
    },

    // ç‚¹å‡»é‡ç½®    ï¼Œ  é‡ç½®è¡¨å•
    inreset() {
      //window.console.log(this)
      this.$refs.ruleFomeinset.resetFields()
    }


}



}
</script>
<style scoped>
 
.box{
width: 500px;
margin: 0 50px;
}

.form-for{

width: 600px;
height: 800px;
border: 1px solid #0094ff;
border-radius: 20px;
margin-top: 50px;
padding-top: 20px;

  box-shadow: -0.2rem 0 0.5rem #0094ff, /*å·¦è¾¹é˜´å½±*/ 
               0 -0.2rem 0.5rem rgb(66, 195, 228),/*ä¸Šè¾¹é˜´å½±*/
               0.2rem 0 0.5rem rgb(119, 202, 240),/*å³è¾¹é˜´å½±*/
               0 0.2rem 0.5rem rgb(0, 255, 242) inset; /*ä¸‹è¾¹é˜´å½±*/



}



.el-header{

background: linear-gradient(135deg,#0094ff,rgb(0, 255, 242),rgb(119, 202, 240)) ;;
align-items: center;
display: flex;
font-weight: bold;
font-size: 18px;
align-items: center;
color: #fff;

}

.el-header  span{
margin-left: 10px;
font-size: 20px;
}



.el-aside{

background:linear-gradient(45deg,rgb(6, 191, 216),rgb(0, 143, 238));

}

.el-main{

  background: #fff;
}
.scenes{

height: 100%;

}


.scens{

height: 100vh;

}

.but-t{
position: absolute;
width: 50px;
height: 50px;
float: left;
border-radius: 50%;
background: radial-gradient(rgba(12, 240, 229, 0.753),rgb(22, 75, 190));
padding: 4px;
margin: 4px auto;
font-size: 14px;
font-weight: bold;
transform: 1s;
right: 10px;

}
.but-t:hover{
width: 55px;
height: 55px;
background: radial-gradient(rgba(7, 130, 212, 0.753),rgb(22, 156, 190));;
transform: 1s;
}

a{
   text-decoration: none;
}
.scenes-data  span{
color: #fff;

}
</style>>